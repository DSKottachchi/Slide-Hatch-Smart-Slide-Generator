{"ast":null,"code":"var _jsxFileName = \"/Users/dilmikottachchi/Documents/Final Year Research Project/slide-generator-web/client/src/pages/EditText.js\",\n    _s = $RefreshSig$();\n\n// EDIT TEXT\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport SideNav from '../components/SideNav';\nimport SlidePreview from '../components/SlidePreview';\nimport 'draft-js/dist/Draft.css';\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from 'axios';\nimport FileUpload from '../components/FileUpload';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditText = () => {\n  _s();\n\n  let location = useLocation();\n  const [editText, setEditText] = useState();\n  let id = ''; // REMOVING NEW LINE CHARACTERS\n\n  const splitText = text => {\n    let lineText = text.split('\\n').map(str => /*#__PURE__*/_jsxDEV(\"p\", {\n      children: str\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 52\n    }, this));\n    return lineText;\n  };\n\n  useEffect(() => {\n    id = location.state; // GET THE EDIT TEXT ITEM\n\n    const res = axios.get(`http://localhost:5000/api/image/text-item/${location.state}`).then(res => {\n      let text = res.data.image;\n      let txt = splitText(text);\n      setEditText(text);\n      console.log(\"Successfully retrieved\");\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, []); // EDIT TEXT FUNCTION\n\n  const editTextSubmit = async event => {\n    event.preventDefault();\n    const res = await axios.post(`http://localhost:5000/api/image/text-edit/${location.state}`, {\n      image: editText\n    }).then(res => {\n      console.log(\"Successfully Edited Texts\");\n    }).catch(function (error) {\n      console.log(error);\n    });\n    window.location.reload();\n  };\n\n  const handleSubmit = event => {\n    alert('A name was submitted: ' + editText);\n  };\n\n  const handleChange = event => {\n    setEditText(event.target.value);\n  };\n\n  const editorRef = useRef(null);\n\n  const log = () => {\n    if (editorRef.current) {\n      console.log(editorRef.current.getContent());\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"slide-web-container\",\n    children: [/*#__PURE__*/_jsxDEV(SideNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"slide-body width-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container slide-inner-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container edit-row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slide-header\",\n            children: \"Edit Slides\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"slide-dragdrop-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: editTextSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                  onChange: handleChange,\n                  className: \"wysiwyg-inner\",\n                  defaultValue: editText,\n                  type: \"text\",\n                  cols: \"100\",\n                  rows: \"15\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"submit\",\n                  value: \"Submit\",\n                  className: \"slidegen-btn primary-color float-right content-start\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EditText, \"Tl6iPX+Q8CHArm33PLKjCXHV/qI=\", false, function () {\n  return [useLocation];\n});\n\n_c = EditText;\nexport default EditText;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditText\");","map":{"version":3,"sources":["/Users/dilmikottachchi/Documents/Final Year Research Project/slide-generator-web/client/src/pages/EditText.js"],"names":["Link","useLocation","useParams","SideNav","SlidePreview","React","useState","useEffect","useRef","axios","FileUpload","EditText","location","editText","setEditText","id","splitText","text","lineText","split","map","str","state","res","get","then","data","image","txt","console","log","catch","error","editTextSubmit","event","preventDefault","post","window","reload","handleSubmit","alert","handleChange","target","value","editorRef","current","getContent"],"mappings":";;;AAAA;AACA,SAASA,IAAT,EAAeC,WAAf,EAA4BC,SAA5B,QAA6C,kBAA7C;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAO,yBAAP;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AAEnB,MAAIC,QAAQ,GAAGX,WAAW,EAA1B;AACA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,EAAxC;AACA,MAAIS,EAAE,GAAG,EAAT,CAJmB,CAMnB;;AACA,QAAMC,SAAS,GAAIC,IAAD,IAAU;AACxB,QAAIC,QAAQ,GAAGD,IAAI,CAACE,KAAL,CAAW,IAAX,EAAiBC,GAAjB,CAAqBC,GAAG,iBAAI;AAAA,gBAAIA;AAAJ;AAAA;AAAA;AAAA;AAAA,YAA5B,CAAf;AACA,WAAOH,QAAP;AACH,GAHD;;AAKAX,EAAAA,SAAS,CAAC,MAAM;AACZQ,IAAAA,EAAE,GAAGH,QAAQ,CAACU,KAAd,CADY,CAEZ;;AACA,UAAMC,GAAG,GAAGd,KAAK,CAACe,GAAN,CAAW,6CAA4CZ,QAAQ,CAACU,KAAM,EAAtE,EACXG,IADW,CACNF,GAAG,IAAI;AACT,UAAIN,IAAI,GAAGM,GAAG,CAACG,IAAJ,CAASC,KAApB;AACA,UAAIC,GAAG,GAAGZ,SAAS,CAACC,IAAD,CAAnB;AACAH,MAAAA,WAAW,CAACG,IAAD,CAAX;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACH,KANW,EAOXC,KAPW,CAOL,UAAUC,KAAV,EAAiB;AACpBH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KATW,CAAZ;AAUH,GAbQ,EAaN,EAbM,CAAT,CAZmB,CA4BnB;;AACA,QAAMC,cAAc,GAAG,MAAMC,KAAN,IAAgB;AACnCA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMZ,GAAG,GAAG,MAAMd,KAAK,CAAC2B,IAAN,CAAY,6CAA4CxB,QAAQ,CAACU,KAAM,EAAvE,EAA0E;AAAEK,MAAAA,KAAK,EAAEd;AAAT,KAA1E,EACjBY,IADiB,CACZF,GAAG,IAAI;AACTM,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACH,KAHiB,EAIjBC,KAJiB,CAIX,UAAUC,KAAV,EAAiB;AACpBH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KANiB,CAAlB;AAOAK,IAAAA,MAAM,CAACzB,QAAP,CAAgB0B,MAAhB;AACH,GAVD;;AAYA,QAAMC,YAAY,GAAIL,KAAD,IAAW;AAC5BM,IAAAA,KAAK,CAAC,2BAA2B3B,QAA5B,CAAL;AACH,GAFD;;AAIA,QAAM4B,YAAY,GAAIP,KAAD,IAAW;AAC5BpB,IAAAA,WAAW,CAACoB,KAAK,CAACQ,MAAN,CAAaC,KAAd,CAAX;AACH,GAFD;;AAIA,QAAMC,SAAS,GAAGpC,MAAM,CAAC,IAAD,CAAxB;;AACA,QAAMsB,GAAG,GAAG,MAAM;AAChB,QAAIc,SAAS,CAACC,OAAd,EAAuB;AACrBhB,MAAAA,OAAO,CAACC,GAAR,CAAYc,SAAS,CAACC,OAAV,CAAkBC,UAAlB,EAAZ;AACD;AACF,GAJD;;AAMA,sBACI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA,4BACI,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,iCAAf;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,oBAAf;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAMI;AAAK,UAAA,SAAS,EAAC,0BAAf;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,EAAf;AAAA,mCAEI;AAAK,cAAA,SAAS,EAAC,YAAf;AAAA,qCACI;AAAM,gBAAA,QAAQ,EAAEb,cAAhB;AAAA,wCACI;AAAU,kBAAA,QAAQ,EAAEQ,YAApB;AAAkC,kBAAA,SAAS,EAAC,eAA5C;AAA4D,kBAAA,YAAY,EAAE5B,QAA1E;AAAoF,kBAAA,IAAI,EAAC,MAAzF;AAAgG,kBAAA,IAAI,EAAC,KAArG;AAA2G,kBAAA,IAAI,EAAC;AAAhH;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAO,kBAAA,IAAI,EAAC,QAAZ;AAAqB,kBAAA,KAAK,EAAC,QAA3B;AAAoC,kBAAA,SAAS,EAAC;AAA9C;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA0BH,CAlFD;;GAAMF,Q;UAEaV,W;;;KAFbU,Q;AAoFN,eAAeA,QAAf","sourcesContent":["// EDIT TEXT\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport SideNav from '../components/SideNav';\nimport SlidePreview from '../components/SlidePreview'\nimport 'draft-js/dist/Draft.css';\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from 'axios';\nimport FileUpload from '../components/FileUpload';\n\nconst EditText = () => {\n\n    let location = useLocation();\n    const [editText, setEditText] = useState();\n    let id = '';\n\n    // REMOVING NEW LINE CHARACTERS\n    const splitText = (text) => {\n        let lineText = text.split('\\n').map(str => <p>{str}</p>);\n        return lineText;\n    }\n\n    useEffect(() => {\n        id = location.state;\n        // GET THE EDIT TEXT ITEM\n        const res = axios.get(`http://localhost:5000/api/image/text-item/${location.state}`)\n        .then(res => {\n            let text = res.data.image;\n            let txt = splitText(text);\n            setEditText(text);\n            console.log(\"Successfully retrieved\");\n        })\n        .catch(function (error) {\n            console.log(error);\n        })\n    }, []);\n\n\n    // EDIT TEXT FUNCTION\n    const editTextSubmit = async(event) => {\n        event.preventDefault();\n        const res = await axios.post(`http://localhost:5000/api/image/text-edit/${location.state}`, { image: editText })\n        .then(res => {\n            console.log(\"Successfully Edited Texts\");\n        })\n        .catch(function (error) {\n            console.log(error);\n        })\n        window.location.reload();\n    }\n\n    const handleSubmit = (event) => {\n        alert('A name was submitted: ' + editText);\n    }\n\n    const handleChange = (event) => {\n        setEditText(event.target.value);\n    }\n\n    const editorRef = useRef(null);\n    const log = () => {      \n      if (editorRef.current) {\n        console.log(editorRef.current.getContent());\n      }\n    };\n\n    return (\n        <div className=\"slide-web-container\">\n            <SideNav />\n            <div className=\"slide-body width-100\">\n                <div className=\"container slide-inner-container\">\n                    <div className=\"container edit-row\">\n                        <div className=\"slide-header\">\n                            Edit Slides\n                        </div>\n                    </div>\n                    <div className=\"slide-dragdrop-container\">\n                        <div className=\"\">\n                            {/* EDIT TEXT FORM START */}\n                            <div className=\"form-group\">\n                                <form onSubmit={editTextSubmit}>\n                                    <textarea onChange={handleChange} className=\"wysiwyg-inner\" defaultValue={editText} type=\"text\" cols=\"100\" rows=\"15\"></textarea> \n                                    <input type=\"submit\" value=\"Submit\" className=\"slidegen-btn primary-color float-right content-start\" />\n                                </form>\n                            </div>\n                            {/* EDIT TEXT FORM END */}\n                        </div>\n                    </div>\n                </div>\n            </div>           \n        </div>\n    );\n}\n\nexport default EditText;"]},"metadata":{},"sourceType":"module"}