{"ast":null,"code":"var _jsxFileName = \"/Users/dilmikottachchi/Documents/Final Year Research Project/slide-generator-web/client/src/components/SlidePreview.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ImageUpload = () => {\n  let slideSetArr;\n  var listOfImages = [];\n\n  function importAll(r) {\n    return r.keys().map(r);\n  }\n\n  componentWillMount(); // IMPORTING ALL IMAGES FROM UPLOADS FOLDER\n\n  function componentWillMount() {\n    listOfImages = importAll(require.context('../../../client/public/uploads/', false, /\\.(png|jpe?g|svg)$/));\n  } // REMOVE IMAGES FROM UPLOADS FOLDER\n\n\n  const removeImage = async filename => {\n    console.log(\"Filenmae:\", filename);\n\n    try {\n      const res = await axios.delete('http://localhost:5000/delete', {\n        url: filename\n      });\n    } catch (err) {\n      if (err === 500) {\n        console.log(\"There was a problem with the server\");\n      } else {\n        console.log(\"as\", err.response);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"slide-preview\",\n    children: listOfImages && listOfImages.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"slide-preview-item\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: image.default,\n          alt: \"info\"\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }, this)\n      }, image.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\n_c = ImageUpload;\nexport default ImageUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImageUpload\");","map":{"version":3,"sources":["/Users/dilmikottachchi/Documents/Final Year Research Project/slide-generator-web/client/src/components/SlidePreview.js"],"names":["React","axios","ImageUpload","slideSetArr","listOfImages","importAll","r","keys","map","componentWillMount","require","context","removeImage","filename","console","log","res","delete","url","err","response","image","index","default","id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,WAAW,GAAG,MAAM;AACtB,MAAIC,WAAJ;AACA,MAAIC,YAAY,GAAE,EAAlB;;AAEA,WAASC,SAAT,CAAmBC,CAAnB,EAAsB;AAClB,WAAOA,CAAC,CAACC,IAAF,GAASC,GAAT,CAAaF,CAAb,CAAP;AACH;;AAEDG,EAAAA,kBAAkB,GARI,CAUtB;;AACA,WAASA,kBAAT,GAA8B;AAC1BL,IAAAA,YAAY,GAAGC,SAAS,CAACK,OAAO,CAACC,OAAR,CAAgB,iCAAhB,EAAmD,KAAnD,EAA0D,oBAA1D,CAAD,CAAxB;AACH,GAbqB,CAetB;;;AACA,QAAMC,WAAW,GAAG,MAAOC,QAAP,IAAoB;AACpCC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAA0BF,QAA1B;;AACA,QAAI;AACA,YAAMG,GAAG,GAAG,MAAMf,KAAK,CAACgB,MAAN,CAAa,8BAAb,EAA6C;AAACC,QAAAA,GAAG,EAAEL;AAAN,OAA7C,CAAlB;AACH,KAFD,CAEE,OAAMM,GAAN,EAAW;AACT,UAAGA,GAAG,KAAK,GAAX,EAAgB;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ;AACH,OAFD,MAEO;AACHD,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBI,GAAG,CAACC,QAAtB;AACH;AACJ;AACJ,GAXD;;AAaA,sBACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA,cAEMhB,YAAY,IAAIA,YAAY,CAACI,GAAb,CAAiB,CAACa,KAAD,EAAQC,KAAR,kBAC/B;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,+BACI;AAAiB,UAAA,GAAG,EAAED,KAAK,CAACE,OAA5B;AAAqC,UAAA,GAAG,EAAC;AAAzC,WAAUD,KAAV;AAAA;AAAA;AAAA;AAAA;AADJ,SAA+BD,KAAK,CAACG,EAArC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADc;AAFtB;AAAA;AAAA;AAAA;AAAA,UADJ;AAaH,CA1CD;;KAAMtB,W;AA4CN,eAAeA,WAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nconst ImageUpload = () => {\n    let slideSetArr;\n    var listOfImages =[];\n\n    function importAll(r) {\n        return r.keys().map(r);\n    }\n\n    componentWillMount();\n\n    // IMPORTING ALL IMAGES FROM UPLOADS FOLDER\n    function componentWillMount() {\n        listOfImages = importAll(require.context('../../../client/public/uploads/', false, /\\.(png|jpe?g|svg)$/));\n    }\n\n    // REMOVE IMAGES FROM UPLOADS FOLDER\n    const removeImage = async (filename) => {\n        console.log(\"Filenmae:\",  filename);\n        try {\n            const res = await axios.delete('http://localhost:5000/delete', {url: filename});\n        } catch(err) {\n            if(err === 500) {\n                console.log(\"There was a problem with the server\");\n            } else {\n                console.log(\"as\", err.response);\n            }\n        }\n    }   \n\n    return (\n        <div className=\"slide-preview\">\n            {/* IMAGE LIST CONTAINER START */}\n            { listOfImages && listOfImages.map((image, index) => \n                <div className=\"slide-preview-item\">\n                    <div className=\"img-wrap\" key={image.id}>\n                        <img key={index} src={image.default} alt=\"info\" />\n                    </div>\n                </div>\n            )}\n            {/* IMAGE LIST CONTAINER ENDS */}\n        </div>\n    );\n}\n\nexport default ImageUpload;"]},"metadata":{},"sourceType":"module"}